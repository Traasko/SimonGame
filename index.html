<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Simon Game</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <h1>Simon Game</h1>
    <div class="simon-game">
      <div class="buttons">
        <button id="green"></button>
        <button id="red"></button>
        <button id="yellow"></button>
        <button id="blue"></button>
      </div>
      <div class="controls">
        <button id="start">Start</button>
        <button id="strict">Strict</button>
      </div>
    </div>
    <script src="./simon-game.js"></script>
    <script src="./buttons.js"></script>
    <script>
      const simonGame = new SimonGame();
      const greenButton = new Button("green");
      const redButton = new Button("red");
      const yellowButton = new Button("yellow");
      const blueButton = new Button("blue");

      document.getElementById("start").addEventListener("click", () => {
        simonGame.start();
      });

      document.getElementById("strict").addEventListener("click", () => {
        simonGame.toggleStrict();
      });

      function handleButtonClick(color) {
        console.log('handleButtonClick')
        if (simonGame.isPlaying) {
          simonGame.playerSequence.push(color);
          // this.activate();
          const ans = simonGame.checkAnswer(simonGame.playerSequence);
          console.log('ans : ', ans)
        }
      }

      greenButton.element.addEventListener("click", handleButtonClick.bind(greenButton, 0));
      redButton.element.addEventListener("click", handleButtonClick.bind(redButton, 1));
      yellowButton.element.addEventListener("click", handleButtonClick.bind(yellowButton, 2));
      blueButton.element.addEventListener("click", handleButtonClick.bind(blueButton, 3));
    </script>
  </body>
</html>